#!/usr/bin/env ruby

require 'optparse'
require 'ostruct'
require 'rubygems'
require File.expand_path(File.join(File.dirname(__FILE__),'..','lib','autostage.rb'))

options = OpenStruct.new

$stderr = File.new("/dev/null", "w")

optparse = OptionParser.new do |opts|
  opts.banner = "Usage: autostage -c <config>"

  opts.on('-c', '--config CONFIGFILE', 'Load a CONFIGFILE (see sample in config/autostage.conf)') do |file|
    Autostage::Runner.config(file)
  end
end.parse!

Autostage::Runner.run!

